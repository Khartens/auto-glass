const headerBurger=document.querySelector(".burger"),headerMenu=document.querySelector(".menu"),linkMobile=document.querySelectorAll(".menu_list-item"),body=document.body,open=function(){headerBurger.isClick=!0,headerMenu.classList.toggle("active"),headerBurger.classList.toggle("active_menu"),body.classList.toggle("noscroll"),body.classList.toggle("bg")};function closeOnClick(){headerMenu.classList.remove("active"),headerBurger.classList.remove("active_menu"),body.classList.remove("noscroll"),body.classList.remove("bg")}headerBurger.addEventListener("click",function(e){e.stopPropagation(),open()}),linkMobile.forEach(e=>{e.addEventListener("click",closeOnClick)}),document.addEventListener("click",function(e){var e=e.target,t=e==headerMenu||headerMenu.contains(e),e=e==headerBurger,o=headerMenu.classList.contains("active");t||e||!o||open()});const swiperMain=new Swiper(".main__wrapper-swiper",{slidesPerView:1,loop:!0,spaceBetween:10,pagination:{el:".main-pagination",clickable:!0},navigation:{nextEl:".main-next",prevEl:".main-prev"}}),swiperPurchase=new Swiper(".purchase__wrapper-swiper",{slidesPerView:1,spaceBetween:0,loop:!0,pagination:{el:".purchase-pagination",clickable:!0},navigation:{nextEl:".purchase-next",prevEl:".purchase-prev"},breakpoints:{700:{slidesPerView:3,spaceBetween:20}}}),swiperQuality=new Swiper(".quality__slider-swiper",{slidesPerView:1,spaceBetween:10,loop:!0,pagination:{el:".quality-pagination",clickable:!0},navigation:{nextEl:".quality-next",prevEl:".quality-prev"},breakpoints:{1280:{slidesPerView:5,spaceBetween:30},1115:{slidesPerView:4},700:{slidesPerView:3},500:{slidesPerView:2}}}),worksSwiper=(document.querySelectorAll(".swiper-tabs").forEach(e=>{new Swiper(e,{slidesPerView:1,spaceBetween:30,loop:!0,pagination:{el:e.querySelector(".tabs-pagination"),clickable:!0},navigation:{nextEl:e.querySelector(".tabs-next"),prevEl:e.querySelector(".tabs-prev")},breakpoints:{1280:{slidesPerView:4,spaceBetween:30},1115:{slidesPerView:3,spaceBetween:20},800:{slidesPerView:2}}})}),new Swiper(".works-swiper",{slidesPerView:1,spaceBetween:0,loop:!0,allowTouchMove:!1,pagination:{el:".works-pagination",clickable:!0},navigation:{nextEl:".works-next",prevEl:".works-prev"},breakpoints:{1280:{slidesPerView:2,spaceBetween:30}}})),showMore=document.querySelector(".btn-download"),cards=document.querySelectorAll(".glass__container-card").length;let items=8,content=(showMore.addEventListener("click",()=>{items+=8;var e=Array.from(document.querySelector(".glass__container").children).slice(0,items);e.forEach(e=>e.classList.add("is-visible")),e.length===cards&&(showMore.style.display="none")}),Array.from(document.querySelectorAll(".reviews__wrapper")));function getLastVisibleDiv(){return Array.from(document.querySelectorAll(".glass__container-card")).reverse().find(e=>null!==e.offsetParent)}function getLastVisibleDivReviews(){return Array.from(document.querySelectorAll(".reviews__wrapper-photo")).reverse().find(e=>null!==e.offsetParent)}content.forEach(function(e){let t=e.querySelector(".reviews_btn");t.addEventListener("click",function(){e.classList.toggle("open"),t.classList.add("none")},!1)});let lastVisibleElement=getLastVisibleDiv(),lastVisibleElementReviews=getLastVisibleDivReviews();const accordions=document.querySelectorAll(".accordion");if(accordions){const r=e=>{var t=e.querySelector(".accordion__content");e.classList.add("open"),t.style.maxHeight=t.scrollHeight+"px"},s=e=>{var t=e.querySelector(".accordion__content");e.classList.remove("open"),t.style.maxHeight=null};accordions.forEach(e=>{var t=e.querySelector(".accordion__control");const o=e.querySelector(".accordion__content");t.onclick=()=>{(o.style.maxHeight?s:(accordions.forEach(e=>s(e)),r))(e)}})}const box=document.querySelector(".proposal__container"),boxInner=box.querySelectorAll(".proposal__container-card"),tab=(boxInner.forEach(e=>{const t=e.querySelector(".proposal__container-card_btn"),o=t.scrollHeight;e.addEventListener("mouseover",()=>{t.style.height=o+"px"}),e.addEventListener("mouseout",()=>{t.style.height="0px"})}),new GraphTabs("tab",{})),tabTwo=new GraphTabs("tabTwo",{});window.addEventListener("DOMContentLoaded",function(){[].forEach.call(document.querySelectorAll(".tel"),function(e){let l;function t(e){e.keyCode&&(l=e.keyCode),this.selectionStart<3&&e.preventDefault();let t="+7 (___) ___ ____",o=0,n=t.replace(/\D/g,""),i=this.value.replace(/\D/g,""),r=t.replace(/[_\d]/g,function(e){return o<i.length?i.charAt(o++)||n.charAt(o):e});-1!=(o=r.indexOf("_"))&&(o<5&&(o=3),r=r.slice(0,o));var s=t.slice(0,this.value.length).replace(/_+/g,function(e){return"\\d{1,"+e.length+"}"}).replace(/[+()]/g,"\\$&");(!(s=new RegExp("^"+s+"$")).test(this.value)||this.value.length<5||47<l&&l<58)&&(this.value=r),"blur"==e.type&&this.value.length<5&&(this.value="")}e.addEventListener("input",t,!1),e.addEventListener("focus",t,!1),e.addEventListener("blur",t,!1),e.addEventListener("keydown",t,!1)})});class BeforeAfter{constructor(e){const o=document.querySelector(e.id),n=o.querySelector(".bal-before");o.querySelector(".bal-beforePosition");const i=o.querySelector(".bal-afterPosition"),r=o.querySelector(".bal-handle");o.querySelector(".bal-before-inset").setAttribute("style","width: "+o.offsetWidth+"px;"),window.onresize=function(){o.querySelector(".bal-before-inset").setAttribute("style","width: "+o.offsetWidth+"px;")},n.setAttribute("style","width: 50%;"),r.setAttribute("style","left: 50%;"),o.addEventListener("touchstart",e=>{o.addEventListener("touchmove",e=>{var t=o.offsetWidth,e=e.changedTouches[0].clientX-o.offsetLeft;10<e&&e<o.offsetWidth-10&&(e=100*e/t,n.setAttribute("style","width:"+e+"%;"),i.setAttribute("style","z-index: 1;"),r.setAttribute("style","left:"+e+"%;"))})}),o.addEventListener("mousemove",e=>{var t=o.offsetWidth,t=100*e.offsetX/t;10<e.offsetX&&e.offsetX<o.offsetWidth-10&&(n.setAttribute("style","width:"+t+"%;"),i.setAttribute("style","z-index:1;"),r.setAttribute("style","left:"+t+"%;"))})}}function run(){document.querySelectorAll(".bal-container").forEach(e=>{new BeforeAfter({id:"#"+e.id})})}run();const consultationButtons=document.querySelector(".consultation__wrapper-left_buttons"),consultationItem=consultationButtons.querySelectorAll(".consultation__wrapper-left_buttons-item");for(var i=0;i<consultationItem.length;i++)consultationItem[i].addEventListener("click",function(){var e=document.getElementsByClassName("active-btn");e[0].className=e[0].className.replace(" active-btn",""),this.className+=" active-btn"});const popupLinks=document.querySelectorAll(".popup-link"),lockPadding=document.querySelectorAll(".lock-padding");let unlock=!0;const timeout=300;if(0<popupLinks.length)for(let e=0;e<popupLinks.length;e++){const ja=popupLinks[e];ja.addEventListener("click",function(e){var t=ja.getAttribute("href").replace("#","");popupOpen(document.getElementById(t)),e.preventDefault()})}const popupCloseIcon=document.querySelectorAll(".close-popup");if(0<popupCloseIcon.length)for(let e=0;e<popupCloseIcon.length;e++){const oa=popupCloseIcon[e];oa.addEventListener("click",function(e){popupClose(oa.closest(".popup")),e.preventDefault()})}function popupOpen(e){var t;e&&unlock&&((t=document.querySelector(".popup.open"))?popupClose(t,!1):bodyLock(),e.classList.add("open"),e.addEventListener("click",function(e){e.target.closest(".popup__content")||popupClose(e.target.closest(".popup"))}))}function popupClose(e,t=!0){unlock&&(e.classList.remove("open"),t)&&bodyUnlock()}function bodyLock(){var t=window.innerWidth-document.querySelector("body").offsetWidth+"px";for(let e=0;e<lockPadding.length;e++)lockPadding[e].style.paddingRight=t;body.style.paddingRight=t,body.classList.add("lock"),unlock=!1,setTimeout(function(){unlock=!0},timeout)}function bodyUnlock(){setTimeout(function(){for(let e=0;e<lockPadding.length;e++)lockPadding[e].style.paddingRight="0px";body.style.paddingRight="0px",body.classList.remove("lock")},timeout),unlock=!1,setTimeout(function(){unlock=!0},timeout)}document.addEventListener("keydown",function(e){27===e.which&&popupClose(document.querySelector(".popup.open"))});const anchors=document.querySelectorAll('a[href*="#"]');for(let t of anchors)t.addEventListener("click",function(e){e.preventDefault();e=t.getAttribute("href");document.querySelector(""+e).scrollIntoView({behavior:"smooth",block:"start"}),iconMenu.classList.contains("active_menu")&&(document.body.classList.remove("lock"),iconMenu.classList.remove("active_menu"),menu.classList.remove("active"))});